<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TrainDevelopers | Create Profile</title>
    <link rel = "stylesheet" type="text/css" href = "css/signup.css">
    <link rel = "icon" href = "https://library.kissclipart.com/20180830/abq/kissclipart-train-clipart-train-rail-transport-rapid-transit-c4c301d377f15d73.png">
    <script src="scripts/jquery.min.js"></script>
    <script type="text/javascript">

        function validate(email, fname, lname, password){

            if (email == "") {
                alert("Please, fill out your email.");
            } else if (fname == "") {
                alert("Please, fill out your first name.");
            } else if (lname == "") {
                alert("Please, fill out your last name.");
            } else if (password == "") {
                alert("Please, fill out your password.");
            }

        }

        function signUp(){

            var email = document.getElementById('email').value;
            var fname = document.getElementById('fname').value;
            var lname = document.getElementById('lname').value;
            var password = document.getElementById('password').value;

            validate(email, fname, lname, password);

            $.post("services/signup", {email: email, fname: fname, lname: lname, password: password}, function(r) {
                console.log(r);
                // redirect
                window.location.href = "index.html";
            }).fail(function(r) {
                alert(r.responseText);
            });

        }

        $(document).ready(function () {

            $("#signup").on('click', function () {
                signUp();
            });

            $("#main-page").on('click', function () {
                window.location.href = "index.html";
            });

        });

    </script>

</head>
<body>
<!-- Header -->
<div class="header">
    <h1>Train Developers</h1>
</div>

<!-- Menu bar -->
<div class="nav">
    <ul>
        <li id="main-page">Main Page</li>
        <li id="profile-button" style="display:none">Go to profile</li>
        <li id="log-out-button" style="display:none">Log Out</li>
    </ul>
</div>

<!-- Sign up -->
<div class="box1">
    <h3>Create Profile</h3>
    <div class="form-background">
        <form id="sign-up-form">
            <input type="text" id="email" placeholder="Email">
            <input type="text" id="fname" placeholder="First Name">
            <input type="text" id="lname" placeholder = "Last Name">
            <input type="password" id="password" placeholder="Password">
            <button id="signup" type="button">Sign Up</button>
        </form>
    </div>
</div>

<!-- Contacts -->
<div class="footer">
    <h3>Contact us</h3>
    <div class="contact-container">
        <div><p>email: train.dev@nu.edu.kz</p></div>
        <div><p>telephone: +77777777777</p></div>
        <div><p>telephone: +77777777778</p></div>
    </div>
</div>

</body>
</html>